(this.webpackJsonpaqi_index_service=this.webpackJsonpaqi_index_service||[]).push([[0],{14:function(e,a,t){},15:function(e,a,t){},16:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(6),s=t.n(l),r=(t(14),t(1)),i=t(2),m=t(5),u=t(4),o=t(3),d=(t(15),t(8)),h=t.n(d),v=function(e){Object(u.a)(t,e);var a=Object(o.a)(t);function t(e){var n;return Object(r.a)(this,t),(n=a.call(this,e)).state={data:{},isLoading:!0,cityName:"\u9ad8\u96c4\u5e02",casedata:{aqi:[156],status:["\u5c0d\u6240\u6709\u65cf\u7fa4\u4e0d\u5065\u5eb7"],siteName:["\u524d\u91d1"],publishTime:"1970-01-01 00:00",cityBeChoosed:""},statusData:{siteName:"\u524d\u91d1",aqi:156,O3:"28",PM10:"13",PM25:"6",CO:"0.24",SO2:"1.6",NO2:"4.7",status:"\u5c0d\u6240\u6709\u65cf\u7fa4\u4e0d\u5065\u5eb7"}},n.changeHandler=n.changeHandler.bind(Object(m.a)(n)),n.clickHandler=n.clickHandler.bind(Object(m.a)(n)),n}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;h()("https://json2jsonp.com/?url=http://opendata2.epa.gov.tw/AQI.json").then((function(e){return e.json()})).then((function(a){var t=a.reduce((function(e,a){var t=a.County,n=e[t]||[];return n.push(a),e[t]=n,e}),{});e.setState({data:t,isLoading:!1})})).catch((function(e){return console.log("catch",e)}))}},{key:"changeHandler",value:function(e){this.setState({cityName:e.target.value});var a=this.state.data[e.target.value],t={aqi:a.map((function(e){return e.AQI})),status:a.map((function(e){return e.Status})),siteName:a.map((function(e){return e.SiteName})),publishTime:a[0].PublishTime,cityBeChoosed:a};this.setState({casedata:t})}},{key:"clickHandler",value:function(e){var a=this.state.casedata.cityBeChoosed,t={siteName:a[e].SiteName,aqi:a[e].AQI,O3:a[e].O3,PM10:a[e].PM10,PM25:a[e]["PM2.5"],CO:a[e].CO,SO2:a[e].SO2,NO2:a[e].NO2,status:a[e].Status};this.setState({statusData:t})}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"container"},c.a.createElement(E,{change:this.changeHandler,cityName:Object.keys(this.state.data)}),c.a.createElement(p,null),c.a.createElement(N,{cityName:this.state.cityName,publish:this.state.casedata.publishTime}),c.a.createElement(b,{statusData:this.state.statusData,caseData:this.state.casedata,click:this.clickHandler})),c.a.createElement("div",{className:"footer"},c.a.createElement("div",{className:"datasrc"},"\u8cc7\u6599\u4f86\u6e90\uff1a\u884c\u653f\u9662\u74b0\u5883\u4fdd\u8b77\u7f72"),c.a.createElement("div",{className:"copyright"},"Copyright \xa9 2019 HexSchool. All rights reserved.")))}}]),t}(c.a.Component),E=function(e){Object(u.a)(t,e);var a=Object(o.a)(t);function t(e){return Object(r.a)(this,t),a.call(this,e)}return Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"titleBox"},c.a.createElement("div",{className:"title"},"\u7a7a\u6c23\u54c1\u8cea\u6307\u6a19"),c.a.createElement("select",{onChange:this.props.change,value:"",className:"location",id:"location"},c.a.createElement("option",{value:""},"\u8acb\u9078\u64c7\u5730\u5340"),this.props.cityName.map((function(e){return c.a.createElement("option",{key:e,value:e},e)}))))}}]),t}(c.a.Component),p=function(e){Object(u.a)(t,e);var a=Object(o.a)(t);function t(){return Object(r.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"standardTableBox"},c.a.createElement("table",{className:"standardTable"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"0~50"),c.a.createElement("th",null,"51~100"),c.a.createElement("th",null,"101~150"),c.a.createElement("th",null,"151~200"),c.a.createElement("th",null,"201~300"),c.a.createElement("th",null,"301~400"))),c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("div",null,"\u826f\u597d")),c.a.createElement("td",null,c.a.createElement("div",null,"\u666e\u901a")),c.a.createElement("td",null,c.a.createElement("div",null,"\u5c0d\u654f\u611f\u65cf\u7fa4\u4e0d\u5065\u5eb7")),c.a.createElement("td",null,c.a.createElement("div",null,"\u5c0d\u6240\u6709\u65cf\u7fa4\u4e0d\u5065\u5eb7")),c.a.createElement("td",null,c.a.createElement("div",null,"\u975e\u5e38\u4e0d\u5065\u5eb7")),c.a.createElement("td",null,c.a.createElement("div",null,"\u5371\u5bb3"))))))}}]),t}(c.a.Component),N=function(e){Object(u.a)(t,e);var a=Object(o.a)(t);function t(e){return Object(r.a)(this,t),a.call(this,e)}return Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"cityBox"},c.a.createElement("div",{className:"cityName"},this.props.cityName),c.a.createElement("div",{className:"line"}),c.a.createElement("div",{className:"update"},this.props.publish," \u66f4\u65b0"))}}]),t}(c.a.Component),b=function(e){Object(u.a)(t,e);var a=Object(o.a)(t);function t(e){return Object(r.a)(this,t),a.call(this,e)}return Object(i.a)(t,[{key:"render",value:function(){for(var e=this,a=this.props.caseData,t=this.props.statusData,n=[],l=0;l<a.siteName.length;l++)n.push(l);var s="";switch(t.status){case"\u826f\u597d":s="#95F084";break;case"\u666e\u901a":s="#FFE695";break;case"\u5c0d\u654f\u611f\u65cf\u7fa4\u4e0d\u5065\u5eb7":s="#FFAF6A";break;case"\u5c0d\u6240\u6709\u65cf\u7fa4\u4e0d\u5065\u5eb7":s="#FF5757";break;case"\u975e\u5e38\u4e0d\u5065\u5eb7":s="#9777FF";break;case"\u5371\u5bb3":s="#AD1774"}return c.a.createElement("div",{className:"status"},c.a.createElement("div",{className:"box"},c.a.createElement("div",{className:"chooseBox"},c.a.createElement("div",{className:"name"},t.siteName),c.a.createElement("div",{className:"num",style:{backgroundColor:s}},t.aqi)),c.a.createElement("div",{className:"o3"},c.a.createElement("div",{className:"chinese"},"\u81ed\u6c27"),c.a.createElement("div",{className:"english"},"O",c.a.createElement("small",null,"2"),"(ppb)"),c.a.createElement("div",{className:"value"},t.O3)),c.a.createElement("div",{className:"pm10"},c.a.createElement("div",{className:"chinese"},"\u61f8\u6d6e\u5fae\u7c92"),c.a.createElement("div",{className:"english"},"PM",c.a.createElement("small",null,"10"),"(\u03bcg/m\xb3)"),c.a.createElement("div",{className:"value"},t.PM10)),c.a.createElement("div",{className:"pm25"},c.a.createElement("div",{className:"chinese"},"\u7d30\u61f8\u6d6e\u5fae\u7c92"),c.a.createElement("div",{className:"english"},"PM",c.a.createElement("small",null,"2.5"),"(\u03bcg/m\xb3)"),c.a.createElement("div",{className:"value"},t.PM25)),c.a.createElement("div",{className:"co"},c.a.createElement("div",{className:"chinese"},"\u4e00\u6c27\u5316\u78b3"),c.a.createElement("div",{className:"english"},"CO(ppm)"),c.a.createElement("div",{className:"value"},t.CO)),c.a.createElement("div",{className:"so2"},c.a.createElement("div",{className:"chinese"},"\u4e8c\u6c27\u5316\u786b"),c.a.createElement("div",{className:"english"},"SO",c.a.createElement("small",null,"2"),"(ppb)"),c.a.createElement("div",{className:"value"},t.SO2)),c.a.createElement("div",{className:"no2"},c.a.createElement("div",{className:"chinese"},"\u4e8c\u6c27\u5316\u6c2e"),c.a.createElement("div",{className:"english"},"NO",c.a.createElement("small",null,"2"),"(ppb)"),c.a.createElement("div",{className:"value"},t.NO2))),c.a.createElement("div",{className:"caseContainer"},n.map((function(t){return c.a.createElement(O,{key:t,siteName:a.siteName[t],aqi:a.aqi[t],status:a.status[t],keyValue:t,click:e.props.click})}))))}}]),t}(c.a.Component),O=function(e){Object(u.a)(t,e);var a=Object(o.a)(t);function t(e){return Object(r.a)(this,t),a.call(this,e)}return Object(i.a)(t,[{key:"render",value:function(){var e=this,a="";switch(this.props.status){case"\u826f\u597d":a="#95F084";break;case"\u666e\u901a":a="#FFE695";break;case"\u5c0d\u654f\u611f\u65cf\u7fa4\u4e0d\u5065\u5eb7":a="#FFAF6A";break;case"\u5c0d\u6240\u6709\u65cf\u7fa4\u4e0d\u5065\u5eb7":a="#FF5757";break;case"\u975e\u5e38\u4e0d\u5065\u5eb7":a="#9777FF";break;case"\u5371\u5bb3":a="#AD1774"}return c.a.createElement("div",{className:"case",onClick:function(a){e.props.click(e.props.keyValue)}},c.a.createElement("div",{className:"name",value:this.props.siteName},this.props.siteName),c.a.createElement("div",{className:"num",style:{backgroundColor:a}},this.props.aqi))}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,a,t){e.exports=t(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.c3e5e0dc.chunk.js.map